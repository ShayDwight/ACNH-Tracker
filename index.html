<html>
	<head>
	<title>To Objects</title>

	</head>

	<body>
		<input id="run" type="button" value="Run" />

		<textarea id="result" style="height: 500px;"></textarea>
		
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script src="src/jquery.csv.js"></script>

		<script id="fishcsv" src="src/fish.csv"></script>


		<script>
			// enable syntax highlighting
			hljs.initHighlightingOnLoad();

			$(document).ready(() => {
				parse();
			});
			
			

			$('#run').bind('click', function () {
				parse();
			});

			function parse() {
				const input = $('#fishcsv').val();
				const data = $.csv.toObjects(input);
				$('#result').empty();
				$('#result').html(JSON.stringify(data, null, 2));
			}
		</script>   
	</body>
</html>
